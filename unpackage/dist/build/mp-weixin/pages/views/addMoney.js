(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/views/addMoney"],{"120d":function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=n("0cab");function a(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var i=function(){n.e("common/vendor").then(function(){return resolve(n("aeff"))}.bind(null,n)).catch(n.oe)},r=function(){n.e("common/vendor").then(function(){return resolve(n("f5a6"))}.bind(null,n)).catch(n.oe)},c=function(){n.e("common/vendor").then(function(){return resolve(n("d173"))}.bind(null,n)).catch(n.oe)},u=function(){n.e("common/vendor").then(function(){return resolve(n("9bad"))}.bind(null,n)).catch(n.oe)},s=function(){n.e("common/vendor").then(function(){return resolve(n("3573"))}.bind(null,n)).catch(n.oe)},f=getApp(),l={components:{vanPopup:i,vanButton:r,vanField:c,vanIcon:u,vanEmpty:s},data:function(){return{categorys:[],customer:{},clerk:{},form:{id:"",category_id:0,type:2,money:"",money2:"",name:"",date:"",date_lebal:"",book_id:0},selected:0,userType:1,userId:0}},onLoad:function(t){var e;this.userType=t.type,this.form.id=t.id,this.setData((e={},a(e,"form.date",(0,o.formatTimeTwo)((0,o.formatTime)(new Date),"Y-M-D")),a(e,"form.date_lebal",(0,o.formatTimeTwo)((0,o.formatTime)(new Date),"M月D日")),e))},onReady:function(){},onShow:function(){f.globalData.book_id||setTimeout((function(){t.showToast({icon:"none",title:"请先到首页选择账本"})}),100),this.categorysFun()},onHide:function(){},onUnload:function(){},onPullDownRefresh:function(){var e;this.setData((e={},a(e,"form.date",(0,o.formatTimeTwo)((0,o.formatTime)(new Date),"Y-M-D")),a(e,"form.date_lebal",(0,o.formatTimeTwo)((0,o.formatTime)(new Date),"M月D日")),e)),this.categorysFun(),setTimeout((function(){t.stopPullDownRefresh()}),1e3)},onReachBottom:function(){},onShareAppMessage:function(){},methods:{goSelectUser:function(e){var n="";n=1==e?"/pages/views/customer?select=1":"/pages/views/clerk?select=2",t.navigateTo({url:n})},bindPickerChangeDate:function(t){var e;this.setData((e={},a(e,"form.date",t.detail.value),a(e,"form.date_lebal",(0,o.formatTimeTwo)(t.detail.value,"M月D日")),e))},setNav:function(t){this.setData(a({},"form.type",t.currentTarget.dataset.value)),this.categorysFun()},categorysFun:function(){var t=this;f.globalData.ajaxPost("/api/get-category-list",{type:this.form.type},(function(e){200===e.code&&t.setData({categorys:e.data})}))},setMoney:function(t){this.setData(a({},"form.money",t.detail.value))},setName:function(t){this.setData(a({},"form.name",t.detail.value))},setcategory:function(t){console.log(t,t.currentTarget.dataset.id),this.setData(a({},"form.category_id",t.currentTarget.dataset.id))},tijiao:function(){var e=this.form,n=e.date,o=e.category_id,a=(e.name,e.money),i=!0;if(n||(t.showToast({icon:"none",title:"请选择日期"}),i=!1),o||1!=this.userType||(t.showToast({icon:"none",title:"请选择分类"}),i=!1),a||(t.showToast({icon:"none",title:"请输入金额"}),i=!1),this.form.book_id=f.globalData.book_id,this.form.staff_id=this.clerk.id,i){var r="";r=1==this.userType?"/api/set-customer-tally":"/api/set-staff-tally",f.globalData.ajaxPost(r,this.form,(function(e){200===e.code&&(t.showToast({icon:"none",title:"添加成功"}),setTimeout((function(){t.navigateBack({delta:1})}),500))}))}}}};e.default=l}).call(this,n("543d")["default"])},5241:function(t,e,n){"use strict";(function(t){n("2aad");o(n("66fd"));var e=o(n("5692"));function o(t){return t&&t.__esModule?t:{default:t}}wx.__webpack_require_UNI_MP_PLUGIN__=n,t(e.default)}).call(this,n("543d")["createPage"])},5692:function(t,e,n){"use strict";n.r(e);var o=n("daed"),a=n("cf80");for(var i in a)"default"!==i&&function(t){n.d(e,t,(function(){return a[t]}))}(i);n("a772");var r,c=n("f0c5"),u=Object(c["a"])(a["default"],o["b"],o["c"],!1,null,null,null,!1,o["a"],r);e["default"]=u.exports},"822a":function(t,e,n){},a772:function(t,e,n){"use strict";var o=n("822a"),a=n.n(o);a.a},cf80:function(t,e,n){"use strict";n.r(e);var o=n("120d"),a=n.n(o);for(var i in o)"default"!==i&&function(t){n.d(e,t,(function(){return o[t]}))}(i);e["default"]=a.a},daed:function(t,e,n){"use strict";var o;n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return i})),n.d(e,"a",(function(){return o}));var a=function(){var t=this,e=t.$createElement;t._self._c},i=[]}},[["5241","common/runtime","common/vendor"]]]);