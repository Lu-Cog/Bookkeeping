(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/views/user_setting"],{"3b44":function(n,e,t){"use strict";var o=t("6843"),a=t.n(o);a.a},6843:function(n,e,t){},"798f":function(n,e,t){"use strict";t.r(e);var o=t("7fc0"),a=t("d056");for(var i in a)"default"!==i&&function(n){t.d(e,n,(function(){return a[n]}))}(i);t("3b44");var u,c=t("f0c5"),r=Object(c["a"])(a["default"],o["b"],o["c"],!1,null,null,null,!1,o["a"],u);e["default"]=r.exports},"7fc0":function(n,e,t){"use strict";var o;t.d(e,"b",(function(){return a})),t.d(e,"c",(function(){return i})),t.d(e,"a",(function(){return o}));var a=function(){var n=this,e=n.$createElement;n._self._c},i=[]},a27c:function(n,e,t){"use strict";(function(n){t("2aad");o(t("66fd"));var e=o(t("798f"));function o(n){return n&&n.__esModule?n:{default:n}}wx.__webpack_require_UNI_MP_PLUGIN__=t,n(e.default)}).call(this,t("543d")["createPage"])},d056:function(n,e,t){"use strict";t.r(e);var o=t("fe32"),a=t.n(o);for(var i in o)"default"!==i&&function(n){t.d(e,n,(function(){return o[n]}))}(i);e["default"]=a.a},fe32:function(n,e,t){"use strict";(function(n){function o(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=function(){t.e("common/vendor").then(function(){return resolve(t("f5a6"))}.bind(null,t)).catch(t.oe)},i=function(){t.e("common/vendor").then(function(){return resolve(t("9bad"))}.bind(null,t)).catch(t.oe)},u=function(){t.e("common/vendor").then(function(){return resolve(t("3573"))}.bind(null,t)).catch(t.oe)},c=getApp(),r={components:{vanButton:a,vanIcon:i,vanEmpty:u},data:function(){return{info:{avatar_url:"",nick_name:"",sex:0,job:"",phone:"",pwd:""},sexList:[{label:"未知",value:0},{label:"男",value:1},{label:"女",value:2}],sexIndex:0}},onLoad:function(n){this.getInfo()},onReady:function(){},onShow:function(){},onHide:function(){},onUnload:function(){},onPullDownRefresh:function(){},onReachBottom:function(){},onShareAppMessage:function(){},methods:{outLogin:function(){n.removeStorageSync("token"),n.removeStorageSync("userId"),n.reLaunch({url:"/pages/login/login"})},changeP:function(n){this.info.sex=n.detail.value,this.sexIndex=n.detail.value},setInpt:function(n){var e=n.currentTarget.dataset.key,t=n.detail.value;"info.".concat(e);this.info[e]=t,console.log(n)},setUpdateInfo:function(){var e=this;c.globalData.ajaxPost("/api/set-user-info",this.info,(function(t){200===t.code&&(n.showToast({title:"更新成功"}),setTimeout((function(){e.getInfo(),n.navigateBack({delta:1})}),500))}))},getInfo:function(){var n=this;c.globalData.ajaxPost("/api/get-user-info",{},(function(e){200===e.code&&n.setData({info:e.data,sexIndex:e.data.sex||0})}))},upimg:function(){var e=this;n.chooseImage({count:1,sizeType:["original","compressed"],sourceType:["album","camera"],success:function(t){n.showLoading({title:"图片压缩中..."});var a=t.tempFilePaths[0];n.compressImage({src:a,quality:70,success:function(t){n.showLoading({title:"图片上传中..."}),n.uploadFile({url:getApp().globalData.api_base_url+"/api/upload-file",header:{chartset:"utf-8","content-type":"multipart/form-data"},filePath:t.tempFilePath,name:"file",success:function(n){var t=JSON.parse(n.data);e.setData(o({},"info.avatar_url",t.data))},complete:function(){n.hideLoading()}})},complete:function(){n.hideLoading()}})}})}}};e.default=r}).call(this,t("543d")["default"])}},[["a27c","common/runtime","common/vendor"]]]);